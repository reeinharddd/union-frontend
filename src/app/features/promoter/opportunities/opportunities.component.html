<div class="min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100">
  <div class="relative overflow-hidden">
    <!-- Decorative background -->
    <div class="pointer-events-none absolute inset-0 overflow-hidden">
      <div
        class="to-indigo-100 absolute -right-40 -top-40 h-80 w-80 rounded-full bg-gradient-to-br from-blue-100 opacity-30 blur-3xl"
      ></div>
      <div
        class="from-indigo-100 absolute -bottom-40 -left-40 h-80 w-80 rounded-full bg-gradient-to-tr to-blue-100 opacity-30 blur-3xl"
      ></div>
    </div>

    <div class="relative mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8">
      <!-- Header Section -->
      <div class="mb-8 text-center">
        <h1
          class="mb-3 bg-gradient-to-r from-primary-500 to-secondary-500 bg-clip-text text-4xl font-bold text-transparent"
        >
          Mis Oportunidades
        </h1>
        <p class="mx-auto max-w-2xl text-lg text-gray-600">
          Gestiona las oportunidades que has creado como promotor
        </p>
      </div>

      <!-- Loading State -->
      <div *ngIf="isLoading" class="flex justify-center py-12">
        <div
          class="h-12 w-12 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"
        ></div>
      </div>

      <!-- Opportunities Table -->
      <div
        *ngIf="!isLoading"
        class="overflow-hidden rounded-2xl border border-gray-200 bg-white/80 shadow-lg backdrop-blur-sm"
      >
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
              <tr>
                <th
                  scope="col"
                  class="px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600"
                >
                  Título
                </th>
                <th
                  scope="col"
                  class="px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600"
                >
                  Universidad
                </th>
                <th
                  scope="col"
                  class="px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600"
                >
                  Tipo
                </th>
                <th
                  scope="col"
                  class="px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600"
                >
                  Modalidad
                </th>
                <th
                  scope="col"
                  class="px-6 py-4 text-left text-xs font-medium uppercase tracking-wider text-gray-600"
                >
                  Fecha Límite
                </th>
                <th
                  scope="col"
                  class="px-6 py-4 text-center text-xs font-medium uppercase tracking-wider text-gray-600"
                >
                  Acciones
                </th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200 bg-white">
              <tr
                *ngFor="let oportunidad of oportunidades"
                class="transition-colors duration-150 hover:bg-gray-50"
              >
                <td class="whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900">
                  {{ oportunidad.titulo }}
                </td>
                <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-600">
                  {{ universidadesMap[oportunidad.universidad_id] || 'N/A' }}
                </td>
                <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-600">
                  {{ tiposOportunidadMap[oportunidad.opportunity_type_id] || 'N/A' }}
                </td>
                <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-600">
                  {{ modalidadesMap[oportunidad.modality_id] || 'N/A' }}
                </td>
                <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-600">
                  {{ oportunidad.fecha_limite | date: 'mediumDate' }}
                </td>
                <td class="whitespace-nowrap px-6 py-4 text-center text-sm font-medium">
                  <button
                    (click)="editarOportunidad(oportunidad)"
                    class="mr-2 inline-flex items-center rounded-lg bg-blue-600 px-3 py-2 text-sm font-medium text-white shadow-sm transition-all hover:bg-blue-700 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
                  >
                    <svg class="mr-1 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                      />
                    </svg>
                    Editar
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Empty State -->
        <div *ngIf="oportunidades.length === 0" class="py-12 text-center">
          <svg
            class="mx-auto h-12 w-12 text-gray-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <h3 class="mt-2 text-lg font-medium text-gray-900">No hay oportunidades</h3>
          <p class="mt-1 text-gray-600">No has creado ninguna oportunidad todavía.</p>
        </div>
      </div>
    </div>
  </div>
</div>
