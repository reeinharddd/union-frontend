<div class="mx-auto max-w-6xl p-6">
  <h2 class="text-gray-800 mb-6 text-center text-2xl font-bold">Oportunidades creadas</h2>

  <div
    *ngFor="let oportunidad of oportunidades"
    class="mb-8 rounded-lg border bg-white p-6 shadow-md"
  >
    <h3 class="text-gray-800 text-xl font-semibold">{{ oportunidad.titulo }}</h3>
    <p class="text-gray-600 text-sm">
      Universidad: {{ universidadesMap[oportunidad.universidad_id] || 'N/A' }}
    </p>
    <p class="text-gray-600 text-sm">
      Tipo: {{ tiposOportunidadMap[oportunidad.opportunity_type_id] || 'N/A' }}
    </p>
    <p class="text-gray-600 text-sm">
      Modalidad: {{ modalidadesMap[oportunidad.modality_id] || 'N/A' }}
    </p>
    <p class="text-gray-600 text-sm">Fecha límite: {{ oportunidad.fecha_limite }}</p>

    <div class="mt-4">
      <h4 class="text-gray-700 mb-2 font-semibold">Postulaciones:</h4>

      <table class="min-w-full border text-sm">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-4 py-2 text-left">Nombre</th>
            <th class="px-4 py-2 text-left">Correo</th>
            <th class="px-4 py-2 text-left">Fecha</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let post of postulacionesPorOportunidad[oportunidad.id]" class="border-t">
            <td class="px-4 py-2">{{ post.nombre_usuario || 'Desconocido' }}</td>
            <td class="px-4 py-2">{{ post.correo_usuario || 'N/A' }}</td>
            <td class="px-4 py-2">{{ post.fecha | date }}</td>
          </tr>
        </tbody>
      </table>

      <ng-template #sinPostulaciones>
        <p class="text-gray-500 text-sm">No hay usuarios postulados aún.</p>
      </ng-template>
    </div>
  </div>
</div>
